<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Очко Миши</title>
  <style>
    canvas {
      border: 1px solid #fff;
      cursor: crosshair;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }
    form {
      max-width: 400px;
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-menu {
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>

<div class="drawing">
  <h1>Очко Миши 1.0</h1>
  <canvas id="drawingCanvas"  ></canvas>

  <script>
    const canvas = document.getElementById('drawingCanvas');
    const center = document.getElementById('center');
    const ctx = canvas.getContext('2d');
    const rows = 10;
    const cols = 27;

    function resizeCanvas() {
        // Устанавливаем ширину канваса на 100% ширины окна
        canvas.width = window.innerWidth * 0.9; // 90% от ширины окна
        canvas.height = (canvas.width / cols) * rows; // Высота пропорциональна количеству строк
        cellSize = Math.floor(canvas.width/27); // Размер ячейки
        //drawGrid();
    }
    
    let cellSize = Math.floor(canvas.width/27); // Размер ячейки
    let sed = [];
    
    for (let i = 0; i < 122; i++) {
      sed[i] = "black";
    }
    
    /*
    // Функция для отрисовки сетки
    function drawGrid() {
      for (let x = 0; x <= 27; x++) {
        switch(x){
          case 0:
          case 1:
          case 27:
          case 26:
            ctx.moveTo(x*cellSize, 2*cellSize);
            ctx.lineTo(x*cellSize, 8*cellSize);
            break;
          case 12:
          case 13:
          case 14:
          case 15:
            ctx.moveTo(x*cellSize, 0);
            ctx.lineTo(x*cellSize, 8*cellSize);
            break;
          default:
            ctx.moveTo(x*cellSize, 0);
            ctx.lineTo(x*cellSize, canvas.height*2);
        }
      }
      for (let y = 0; y < 6; y++) {
        switch(y){
          case 0:
            ctx.moveTo(2*cellSize, 0);
            ctx.lineTo(25*cellSize, 0);
            break;
          case 5:
            ctx.moveTo(2*cellSize, 2*y*cellSize);
            ctx.lineTo(11*cellSize, 2*y*cellSize);
            ctx.moveTo(16*cellSize, 2*y*cellSize);
            ctx.lineTo(25*cellSize, 2*y*cellSize);
            break;
          default:
            ctx.moveTo(0, 2*y*cellSize);
            ctx.lineTo(27*cellSize, 2*y*cellSize);
        }
        //ctx.moveTo(0, y*2);
        //ctx.lineTo(canvas.width, y*2);
      }
      ctx.strokeStyle = '#ffffff';
      ctx.stroke();
    }
    */
    function getXY(a) {
      let b = [0, 0];
      if(a >= 0 && a < 23) {
        b[0] = a + 2; b[1] = 0;
      } else if(a < 50) {
        b[0] = 49 - a; b[1] = 1;
      } else if(a < 77) {
        b[0] = a - 50; b[1] = 2;
      } else if(a < 104) {
        b[0] = 103 - a; b[1] = 3;
      } else if(a < 113) {
        b[0] = a - 102; b[1] = 4;
      } else if(a < 122) {
        b[0] = a - 97; b[1] = 4;
      }
      return b;
    }
    function getA(x, y) {
      switch(y){
        case 0:
          if(x > 1 && x < 25)
            return x - 2;
          break;
        case 1:
          return 49 - x;
          break;
        case 2:
          return 50 + x;
          break;
        case 3:
          return 103 - x;
          break;
        case 4:
          if(x > 1 && x < 11){
            return 102 + x;
          } else if(x > 15 && x < 25) {
            return 97 + x;
          }
          break;
      }
      return -1;
    }
    
    // Функция для рисования
    function fill() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let i = 0; i < 122; i++) {
        let xy = getXY(i);
        
        const rect = canvas.getBoundingClientRect();
        const x = xy[0] * cellSize;
        const y = xy[1] * cellSize;
      
        ctx.fillStyle = sed[i]; // Цвет рисования
        ctx.fillRect(x, y*2, cellSize, cellSize*2);
      }
      //drawGrid();
    }
    
    // Функция для рисования
    function draw(event) {
      const rect = canvas.getBoundingClientRect();
      const x = Math.floor((event.clientX - rect.left) / cellSize);
      const y = Math.floor((event.clientY - rect.top) / (cellSize * 2));
      const a = getA(x, y);
      if(a > -1) {
        sed[a] = "green";
        fill()
      }
      
      //ctx.fillStyle = 'grey'; // Цвет рисования
      //ctx.fillRect(x, y*2, cellSize, cellSize*2);
    }

    // Обработчик события мыши
    canvas.addEventListener('mousedown', (event) => {
      draw(event);
      canvas.addEventListener('mousemove', draw);
    });

    canvas.addEventListener('mouseup', () => {
      canvas.removeEventListener('mousemove', draw);
    });
    // Изменение размера канваса при загрузке и изменении размера окна
    //window.addEventListener('resize', resizeCanvas);
    resizeCanvas(); // Инициализация при загрузке
    // Отрисовка сетки при загрузке
    fill();
  </script>
</div>


<form action="#" method="post">
  <div class="form-menu">
    <div class="form-group">
      <label for="name">Имя:</label>
      <input type="text" id="name" name="name" required>
    </div>

    <div class="form-group">
      <label>Пол:</label><br>
      <input type="radio" id="male" name="gender" value="male">
      <label for="male">Мужской</label><br>
      <input type="radio" id="female" name="gender" value="female">
      <label for="female">Женский</label>
    </div>
  </div>
  <div class="form-menu">
    <div class="form-group">
      <label>Интересы:</label><br>
      <input type="checkbox" id="sports" name="interests" value="sports">
      <label for="sports">Спорт</label><br>
      <input type="checkbox" id="music" name="interests" value="music">
      <label for="music">Музыка</label><br>
      <input type="checkbox" id="travel" name="interests" value="travel">
      <label for="travel">Путешествия</label>
    </div>

    <div class="form-group">
      <label for="country">Страна:</label>
      <select id="country" name="country">
        <option value="russia">Россия</option>
        <option value="usa">США</option>
        <option value="germany">Германия</option>
        <option value="france">Франция</option>
      </select>
    </div>
  </div>
  <button type="submit">Отправить</button>
</form>
</body>
</html>




